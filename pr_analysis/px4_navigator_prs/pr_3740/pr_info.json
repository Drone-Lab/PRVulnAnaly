{
  "title": "Yaw timeout for VTOL forwards transition",
  "url": "https://github.com/PX4/PX4-Autopilot/pull/3740",
  "number": 3740,
  "created_at": "2016-02-12T15:18:46Z",
  "merged": true,
  "merged_at": "2016-02-16T06:51:23Z",
  "state": "closed",
  "conversation": {
    "author": "AndreasAntener",
    "body": "This adds a yaw timeout on accepting the waypoint for the VTOL forwards transition because a VTOL might not reach yaw in wind. Fixes #3728\n\nMIS_YAW_TMT\n- default: -1\n- > 0: timeout active on waypoints which force heading, ignore heading for acceptance on normal waypoints\n\nMIS_YAW_TMT set to 10 seconds for default VTOL configurations\n",
    "issue_comments": [
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-13T00:25:33Z",
        "body": "@LorenzMeier @sanderux timeout and forcing the heading for a transition added. How does this look?\n\nAlready flew the timeout in real, new is the mission failsafe. If this is how we want it for the moment we can merge I think.\n",
        "type": "issue_comment"
      },
      {
        "author": "julianoes",
        "created_at": "2016-02-13T09:00:44Z",
        "body": "Reviewed, seems good other than the comment.\n",
        "type": "issue_comment"
      },
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-13T09:11:33Z",
        "body": "Thanks @julianoes , I will push an update in a sec that also takes care of setting the failure state properly.\n",
        "type": "issue_comment"
      },
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-15T12:54:51Z",
        "body": "Rebased on master\n",
        "type": "issue_comment"
      },
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-15T14:37:37Z",
        "body": "Just found one thing missing here, need to do one more commit.\n",
        "type": "issue_comment"
      },
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-15T18:28:27Z",
        "body": "Anybody knows why px4-stm32f4discovery_default fails on Travis?\n",
        "type": "issue_comment"
      },
      {
        "author": "AndreasAntener",
        "created_at": "2016-02-16T06:52:50Z",
        "body": "Merged after SITL tests. @sanderux this will simplify testing this afternoon. Roman and I will rebase the TECS init, and also get the Kangaroo in before you go testing.\n",
        "type": "issue_comment"
      }
    ],
    "review_comments": [
      {
        "author": "julianoes",
        "created_at": "2016-02-13T08:58:29Z",
        "body": "Why -FLT_EPSILON? Shouldn't it be +FLT_EPSILON?\n\nAlso, please comment! How is a reader supposed to grasp what you're trying to achieve with this if...\n",
        "path": "src/modules/navigator/mission_block.cpp",
        "position": 1,
        "type": "review_comment"
      },
      {
        "author": "julianoes",
        "created_at": "2016-02-13T08:59:47Z",
        "body": "Oh, I understand from reading the parameter. A timeout of 0 means, just continue.\nAs I said, please comment!\n",
        "path": "src/modules/navigator/mission_block.cpp",
        "position": 1,
        "type": "review_comment"
      }
    ],
    "reviews": []
  }
}