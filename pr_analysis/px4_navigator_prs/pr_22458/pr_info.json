{
  "title": "Navigator: add set_gimbal_neutral() logic",
  "url": "https://github.com/PX4/PX4-Autopilot/pull/22458",
  "number": 22458,
  "created_at": "2023-11-29T14:54:23Z",
  "merged": true,
  "merged_at": "2023-12-01T12:19:09Z",
  "state": "closed",
  "conversation": {
    "author": "sfuhrer",
    "body": "\r\n### Solved Problem\r\n- cameras have higher chance to get damaged when pointing down (like they do while flying a survey)\r\n- on Holding a survey mission, most users seem to prefer to have the camera pan upwards such that they can look at the surroundings\r\n\r\n### Solution\r\nIntroduce set_gimabl_neutral() method that sets `gimbal_manager_set_attitude_s::GIMBAL_MANAGER_FLAGS_NEUTRAL`. Call it on entering RTL and Land flight modes, as well as when in a mission and the next item is Land, or on pausing a mission.\r\n\r\n### Changelog Entry\r\nFor release notes:\r\n```\r\nFeature: set gimbal to neutral (horizontal) in Landing scenarios and on pausing a Mission\r\n```\r\n\r\n### Test coverage\r\nSITL tested. \r\n",
    "issue_comments": [
      {
        "author": "julianoes",
        "created_at": "2023-12-03T18:42:52Z",
        "body": "One thing to note is that this will set the gimbal to neutral even if it is controlled manually. I guess that's what we want, right?\r\n\r\nAnd also, to be pedantic, this should probably be [retracted](https://mavlink.io/en/messages/common.html#GIMBAL_DEVICE_FLAGS_RETRACT), however, that's not really implemented anywhere, or at least not any different from neutral, so :man_shrugging:.",
        "type": "issue_comment"
      },
      {
        "author": "sfuhrer",
        "created_at": "2023-12-05T09:18:34Z",
        "body": ">One thing to note is that this will set the gimbal to neutral even if it is controlled manually. I guess that's what we want, right?\r\n\r\nThat's the feedback we got from users, yeah. Better be on the safe side and set it to neutral once too often than risking damage on the landing.\r\n\r\n> And also, to be pedantic, this should probably be [retracted](https://mavlink.io/en/messages/common.html#GIMBAL_DEVICE_FLAGS_RETRACT), however, that's not really implemented anywhere, or at least not any different from neutral, so ü§∑‚Äç‚ôÇÔ∏è.\r\n\r\nGood point. I guess not enough people care yet about the retraction.",
        "type": "issue_comment"
      }
    ],
    "review_comments": [],
    "reviews": [
      {
        "author": "RomanBapst",
        "created_at": "",
        "body": "",
        "state": "APPROVED",
        "type": "review"
      }
    ]
  }
}