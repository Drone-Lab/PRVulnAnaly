[
  {
    "title": "rc.fw_defaults param fix",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4121",
    "number": 4121,
    "created_at": "2016-03-30T16:25:38Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-30T16:27:31Z",
          "body": "Thanks!\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-30T16:30:46Z",
          "body": "Applied to master!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "fixing possible safety issue with altitude",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4081",
    "number": 4081,
    "created_at": "2016-03-26T02:38:11Z",
    "merged": true,
    "merged_at": "2016-03-26T13:36:34Z",
    "state": "closed",
    "conversation": {
      "author": "catch-twenty-two",
      "body": "Ignoring requested altitude from target for now.\n",
      "issue_comments": [],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "more param metadata cleanup",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4078",
    "number": 4078,
    "created_at": "2016-03-25T20:30:01Z",
    "merged": true,
    "merged_at": "2016-03-26T11:17:52Z",
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "",
      "issue_comments": [],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "added descend into navigator",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4068",
    "number": 4068,
    "created_at": "2016-03-23T21:53:09Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "pickledgator",
      "body": "Descend was unimplemented in navigator, and thus had no effect when the navigation state was changed. Utilized same land helper. Downstream logic in pos_control and commander successfully ignore position data that is applied in the setpoint message. Tested in gazebo for multi-rotors.\n",
      "issue_comments": [
        {
          "author": "julianoes",
          "created_at": "2016-03-24T08:11:05Z",
          "body": "Nice catch. How did you find this, in which scenario did the bug show up?\n",
          "type": "issue_comment"
        },
        {
          "author": "pickledgator",
          "created_at": "2016-03-24T22:41:56Z",
          "body": "To support development, I needed a way to trigger a failsafe landing without xy position control, even when position data is available in the filter (eg., bad VO). Descend nav state provides the control mechanism that I desired, and I piped an RC channel to a new failsafe main state to trigger the Descend.\n",
          "type": "issue_comment"
        },
        {
          "author": "mhkabir",
          "created_at": "2016-03-25T00:23:40Z",
          "body": "@pickledgator Sounds nice! Would you be able to send in a PR with the rest of your changes ? It would be very useful for others using VO too :)\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-28T10:27:37Z",
          "body": "Rebased and applied, thanks!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Follow me",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4065",
    "number": 4065,
    "created_at": "2016-03-23T19:14:10Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "LorenzMeier",
      "body": "@catch-twenty-two Replacing your PR with this rebased and formatted version.\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-23T19:38:15Z",
          "body": "@catch-twenty-two What is the current state of this right now? Do you have an updated video?\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-23T19:39:30Z",
          "body": "Matching QGC PR, not merged yet and with CI errors: https://github.com/mavlink/qgroundcontrol/pull/2817\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-23T21:19:59Z",
          "body": "@LorenzMeier Great thanks for doing that, No updated video yet. I did go out with friend to test it on a bicycle so I could see how well it tracked a fast moving object and all went well.  I'll do one more test tomorrow with all the updated changes and then call it good.  I'll also I'll see if I can get some more video if possible.\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-24T07:33:01Z",
          "body": "@catch-twenty-two Is there a bug?\n\n``` javascript\nvoid FollowTarget::update_position_sp(bool use_velocity, bool use_position)\n{\n    // convert mission item to current setpoint\n\n    struct position_setpoint_triplet_s *pos_sp_triplet = _navigator->get_position_setpoint_triplet();\n\n    // activate line following in pos control if position is valid\n\n    pos_sp_triplet->previous.valid = use_position;\n    pos_sp_triplet->previous = pos_sp_triplet->current;\n    mission_item_to_position_setpoint(&_mission_item, &pos_sp_triplet->current);\n    pos_sp_triplet->current.type = position_setpoint_s::SETPOINT_TYPE_FOLLOW_TARGET;\n    pos_sp_triplet->current.position_valid = use_position;\n    pos_sp_triplet->current.velocity_valid = use_velocity;\n    pos_sp_triplet->current.vx = _current_vel(0);\n    pos_sp_triplet->current.vy = _current_vel(1);\n    pos_sp_triplet->next.valid = false;\n    _navigator->set_position_setpoint_triplet_updated();\n}\n```\n\n   pos_sp_triplet->current.valid is miss? control_auto couldn't work well if we missed it. when i switch to follow target mode, the vehicle isn't moving at all.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-24T19:53:45Z",
          "body": "@LorenzMeier Happy to report I went out today and everything worked great.  I have some video but my I'll have to see if it's worth posting.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-24T20:04:58Z",
          "body": "> pos_sp_triplet->current.valid is miss? control_auto couldn't work well if we missed it. when i switch to follow target mode, the vehicle isn't moving at all.\n\nHmmm...you are right.  I'm actually surprised my tests went okay today, odd.... Good catch.  I'll have to fix it and retest tomorrow. \n\nNevermind see here where the sp is marked as valid:\n\nhttps://github.com/PX4/Firmware/pull/4065/files#diff-c8b2face30ea93f334a64cf7f9aff096L83\n\nThere could possibly be something wrong with your gps...Do you have another phone you can try?\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T20:13:09Z",
          "body": "I always love videos, so I hope it turns out well!\n",
          "type": "issue_comment"
        },
        {
          "author": "DonLakeFlyer",
          "created_at": "2016-03-24T22:20:28Z",
          "body": "My suggestion for basic follow me support would be to maintain the current height of the Vehicle. Also mantain the current distance/positioning from the target calculated from the first follow me message.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-25T03:40:04Z",
          "body": "I'm no filmmaker... which is very apparent from this video, it contains:\n\n1) Me walking with follow me mode activated.\n2) My mother who I recruited to help me, walking with follow me mode activated (all the rest of my friends are at work on weekday mornings, imagine that! :) )\n3) Me riding my Xooter Scooter that I use to get around San Francisco, with follow me activated. At this point I was actually brave enough to set the RC down so I had no safety net (if anything were to go wrong) and let my code do it's work....\n\nThere was a slight wind blowing probably around 7-10 mph the frame type is a DJI style 330. \n\n> I always love videos, so I hope it turns out well!\n\n@LorenzMeier Did it turn out well?  Not really. But hopefully your love of videos makes up for that. lol!\n\nhttps://youtu.be/RxDL4CtkzAQ\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-27T10:17:47Z",
          "body": "Awesome, merged! Now on to the QGC merge, @DonLakeFlyer!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "VTOL_TAKEOFF, VTOL_LAND commands and VT_FORCE_VTOL param",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4055",
    "number": 4055,
    "created_at": "2016-03-22T10:30:16Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "sanderux",
      "body": "support for MAV_CMD_NAV_VTOL_TAKEOFF and MAV_CMD_NAV_VTOL_LAND \nAlso implement VT_FORCE_VTOL to force land as VTOL\nreplaces https://github.com/PX4/Firmware/pull/3720\n\nFixes #3492\nFixes #3712\n",
      "issue_comments": [
        {
          "author": "sanderux",
          "created_at": "2016-03-24T00:14:26Z",
          "body": "@AndreasAntener I cleaned up the mission code, sanitized the functionality, improved back transition behavior, fixed alignment and implemented force_vtol procedure.\nSITL tested all reasonable scenarios and regression tested on the old procedure (takeoff -> trans -> wp -> trans -> land).\n\nI'm especially happy with the back transition improvement, we could see if the basis could change from time to velocity but for now this seems to be a big improvement.\n\nI will test fly this tree soon but i think it is ready to rebase and merge as i see no possible regression and it only implements previously unsupported functionality.\n\nSomehow this tagged along through a submodule init and causes travis to fail: https://github.com/PX4/Firmware/pull/4055/files#diff-d62dbab64e619e0e5926b64585204efdR1\nI think that should be resolved by rebasing but i'm not sure.\n\n/cc @LorenzMeier @tumbili \n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-24T09:04:46Z",
          "body": "@sanderux Could you rebase and squash the development commits? There are also wrong indentations in the mission code it seems\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T11:02:40Z",
          "body": "@AndreasAntener @sanderux There is a 15 character limit on parameter length, what I proposed works, what you proposed doesn't.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-24T11:11:00Z",
          "body": "@LorenzMeier I tested VT_NAV_FORCE_VTL as param and that works. Do you want me to change it?\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T11:13:09Z",
          "body": "16 is the hard limit without NUL-termination. It should work, but you can get yourself into corner cases in downstream implementations. I suggest to use VT_NAV_FORCE_VT instead.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-24T11:20:04Z",
          "body": "ready to merge\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T12:03:20Z",
          "body": "Is this state SITL and outdoor tested? I think it should be, as the changes are significant.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-24T12:10:05Z",
          "body": "Sitl is tested, outdoor tomorrow\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-25T20:34:02Z",
          "body": "Outdoor tested in quite strong wind. \nhttp://logs.uaventure.com/view/JRG4pRghKoV3RK8eS3o75k#AS_Yaw_PLOT\n\n1 There was a sudden unintended yaw action when front transition started, see yaw setpoint change\n2 Very smooth back transition but quite a high time and in strong winds it drifts a lot \n3 During lading it weathervaned and got lift from it's wings, it therefor acted up a little.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-25T21:49:39Z",
          "body": "Here is a second log:\nhttp://logs.uaventure.com/view/PJYu2ARidpuQyFsX9qxdKm\n\nThe yaw setpoint issue is consistent\nThe airspeed sensor for the quadranger acted up here (turned out to be the radio telem being too close)\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-26T18:04:08Z",
          "body": "This should fix the yaw issue during transition\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-27T01:13:09Z",
          "body": "@sanderux before I forget, mission item reached: one reason to not wait on the transition to be finished is that the position controller won't know the next waypoint and therefore cannot control the position during the transition in case we later implement this. haven't thought about it in detail though.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-27T08:16:59Z",
          "body": "the advantage of this command is that the user can point the vehicle into the wind. It is basically the autonomous equivlant of flicking the aux1 switch.\n\nFor position control it should hold altitude and heading until ttansition has completed or timeout occurs. \n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-27T09:34:31Z",
          "body": "Sure but it's changing the behaviour in general, also for the separate transitions (not part of VTOL tko/lnd). What we talked about yesterday, if we want the FW position controller to guide it through blending, it needs to know the next waypoint. If it doesn't get the actual next mission waypoint, we need to generate a temporary waypoint that lies in the direction of the target transition heading. Another option would be to look at the \"next\" waypoint in the triplet, which contains the next position during the transition. Ok, I think we have 2 good options here so it's fine.\n\nNote: simply holding heading and attitude is not going to work, it will drift off path.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-27T09:45:41Z",
          "body": "Yes your right, i think a temp waypoint would be a good idea.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-27T10:27:38Z",
          "body": "Waiting for conclusive test flights to merge this.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-27T10:31:39Z",
          "body": "I did a sitl test to check on the Z velocity issue that i see in your log from #4079:\n\n<img width=\"1368\" alt=\"screen shot 2016-03-27 at 12 15 55\" src=\"https://cloud.githubusercontent.com/assets/5750020/14064961/98febe76-f416-11e5-9277-f6557dca7d42.png\">\n\nThe position controller still sees a takeoff type setpoint during the transition. Needs to be reset, should be a small fix.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-27T23:48:12Z",
          "body": "@AndreasAntener do you agree on the location of setting the setpoint type?\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-29T21:06:49Z",
          "body": "@AndreasAntener i added the virtual waypoint in front of the takeoff item. This should work fine now with your transition position holding\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-30T11:51:22Z",
          "body": "Here is a log for a SITL flight based on this branch combined with https://github.com/PX4/Firmware/pull/4093. looks very smooth and functions as expected.\nhttp://logs.uaventure.com/view/VXJnLmimbG8px8aiuPtBja\n\n![image](https://cloud.githubusercontent.com/assets/14801663/14141202/fab81b6c-f67d-11e5-8f05-aa66601c9d1f.png)\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-04-02T18:20:36Z",
          "body": "Outdoor tested, looking good:\nhttp://logs.uaventure.com/view/jg2rHZDRmAboYLiqyFVuge\nVideo: https://drive.google.com/file/d/0B27AvDmVit4KQlpCMllyaDVxQmM/view?usp=sharing\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-04-02T20:29:55Z",
          "body": "Rebased and applied, thanks!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T08:31:49Z",
          "body": "This should be defined in the navigator params, (NAV_FORCE_VTOL), as its only used there.\n",
          "path": "src/modules/vtol_att_control/vtol_att_control_params.c",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-03-24T08:59:09Z",
          "body": "All vtol related params start with VT_ perhaps VT_NAV_FORCE_VTOL ?\n",
          "path": "src/modules/vtol_att_control/vtol_att_control_params.c",
          "position": 1,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "MissionFeasibilityChecker geofence ignore NAV_CMD_DO_*",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4046",
    "number": 4046,
    "created_at": "2016-03-21T03:39:11Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "-closes #4040\n",
      "issue_comments": [
        {
          "author": "dagar",
          "created_at": "2016-03-21T14:59:29Z",
          "body": "Thanks @AndreasAntener \nIs there a better place a helper like item_contains_position() could live in navigator? At the moment I made it public and static within MissionBlock so it was accessible from MissionFeasibilityChecker.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-21T19:24:30Z",
          "body": "Only idea I'd have would be to add a helper class, but it's a bit overkill atm for one method. Maybe add a comment about it.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-22T00:21:41Z",
          "body": "Added todo\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-22T05:56:18Z",
          "body": "Thanks, applied\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-21T13:10:07Z",
          "body": "We could use https://github.com/PX4/Firmware/blob/master/src/modules/navigator/mission_block.cpp#L318 and also add NAV_CMD_DO_JUMP to the list there (it's currently not because it's handled separately in missions but adding it won't have any other effect)\n",
          "path": "src/modules/navigator/mission_feasibility_checker.cpp",
          "position": 1,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "reset mission after vehicle was in mission and then disarms",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4043",
    "number": 4043,
    "created_at": "2016-03-20T13:46:35Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "AndreasAntener",
      "body": "Fixes #3978 , SITL tested\nPlease review\n\nNote: I had the reset code in commander first but that didn't feel right so I moved it to mission. There might be a better way to trigger the reset instead via the `offboard_mission` topic.\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-20T13:56:32Z",
          "body": "Changes / architecture looks good.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T14:06:58Z",
          "body": "I commented on this. I think it needs to be done solely in the navigator without intervention from the commander.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-25T09:25:53Z",
          "body": "@LorenzMeier makes sense, will fix this\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-27T02:02:24Z",
          "body": "Updated, SITL tested.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-27T10:27:01Z",
          "body": "Looked good, sane and safe, so I applied it to master, thanks!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T14:05:18Z",
          "body": "Why is this logic in the commander after all? Can't the navigator just do this by itself, since it knows the current flight mode?\n",
          "path": "src/modules/commander/commander.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T14:05:49Z",
          "body": "This introduces a race with the mavlink app, which also publishes this topic. If we publish something from the commander, it would need to be done on a different topic.\n",
          "path": "src/modules/commander/commander.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T14:06:28Z",
          "body": "Would prefer to trigger this on a vehicle status change with state == mission and disarmed.\n",
          "path": "src/modules/navigator/mission.cpp",
          "position": 1,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "Reset current setpoint when entering RTL",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4012",
    "number": 4012,
    "created_at": "2016-03-14T21:53:11Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "AndreasAntener",
      "body": "Fixes #3844 \nSITL tested\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-14T22:08:12Z",
          "body": "Sounds like we should merge this once Travis passes.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-14T22:38:15Z",
          "body": "Rebased, I was a bit out of date..\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-19T15:30:39Z",
          "body": "Rebased and applied.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Param unit cleanup",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/4000",
    "number": 4000,
    "created_at": "2016-03-13T18:28:53Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "",
      "issue_comments": [
        {
          "author": "dagar",
          "created_at": "2016-03-13T20:46:47Z",
          "body": "@LorenzMeier @DonLakeFlyer ready for review please\n\nCurrent @unit usage\n\n```\n  4  * @unit 1/s\n  1  * @unit A\n  1  * @unit bit/s\n 44  * @unit boolean\n 40  * @unit deg\n  4  * @unit deg * 1e7\n 19  * @unit deg/s\n 54  * @unit enum\n  1  * @unit Gauss\n  1  * @unit Gauss/s\n  1  * @unit hPa\n  5  * @unit Hz\n  1  * @unit kg\n  3  * @unit kg*m^2\n 47  * @unit m\n  1  * @unit m^2\n  1  * @unit mA\n  1  * @unit min\n  1  * @unit m/m\n 12  * @unit ms\n  1  * @unit m-s\n 35  * @unit m/s\n  2  * @unit (m/s)-s\n 10  * @unit m/s/s\n  1  * @unit (m/s/s)-s\n  1  * @unit rad\n  8  * @unit rad/s\n 26  * @unit s\n  7  * @unit SD\n 66  * @unit us\n  3  * @unit V\n  1  * @unit W\n```\n",
          "type": "issue_comment"
        },
        {
          "author": "DonLakeFlyer",
          "created_at": "2016-03-13T20:54:19Z",
          "body": "I'd probably change the seconds ones to secs, msecs, usecs. A little more clear. What is SD?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-13T20:59:14Z",
          "body": "It's in ekf2 so I left it alone. Standard deviation?\nhttps://github.com/PX4/Firmware/blob/cecec86081566f243a0dec33b9dedc3dd1624f58/src/modules/ekf2/ekf2_params.c#L316\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-13T21:22:40Z",
          "body": "I used s, ms, us to stick to SI, but if you want the abbreviation I'll change them.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-14T08:13:14Z",
          "body": "Rebased and applied.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Mode switch fix",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3998",
    "number": 3998,
    "created_at": "2016-03-13T10:49:13Z",
    "merged": true,
    "merged_at": "2016-03-13T14:55:11Z",
    "state": "closed",
    "conversation": {
      "author": "LorenzMeier",
      "body": "",
      "issue_comments": [
        {
          "author": "kd0aij",
          "created_at": "2016-03-13T12:54:57Z",
          "body": "Very nice, the comments will be very valuable to future maintenance coders.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "FW navigator accept TAKEOFF waypoint like MC (alt only)",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3922",
    "number": 3922,
    "created_at": "2016-03-04T20:36:10Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "I think this makes the most sense for fixed wing behaviour. You're still flying towards the takeoff waypoint, but once you actually hit the altitude (within NAV_ACC_RAD) you're ready to proceed with the mission. \n",
      "issue_comments": [
        {
          "author": "dagar",
          "created_at": "2016-03-04T21:24:06Z",
          "body": "I was also thinking about updating MissionFeasibilityChecker. What would be appropriate?\n\n-require altitude greater than: At least home + climbout_diff + nav_acc_rad or MIS_TAKEOFF_ALT?\n-minimum distance >= FW_AIRSPEED_TRIM \\* FW_T_CLMB_MAX meters from home.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-05T10:35:21Z",
          "body": "Both options are not ideal. Caring for horizontal position might make it turn too soon, caring for altitude might make it spiral where you don't want it. At least with the way it is now you know what it will do (because you have the next waypoint in mind). The spiral might be completely unexpected. But other than that I can't really argue for one or the other.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-05T14:19:03Z",
          "body": "I'm more concerned with the current situation making it accept too soon when you should still be climbing with roll constrained and TECS in climbout mode. With the roll limited to [-15, 15] during altitude_error > _parameters.climbout_diff the potential spiral is pretty limited depending on your FW_CLMBOUT_DIFF and NAV_ACC_RAD.\n\nA fairly common situation is hand launching into wind where the plane climbs quickly and easily hits the takeoff altitude early. Why fly to a fairly low waypoint instead of continuing the mission?\n\nThink of the takeoff waypoint as more of a cmd to launch + climb with its location not necessarily important.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-05T14:48:38Z",
          "body": "You can't just assume that the takeoff position is not important to the user.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-05T14:50:09Z",
          "body": "What your thinking off is not flying a mission but just flying manually where only the climbout diff is relevant.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-05T16:16:53Z",
          "body": "It's not necessarily assuming the takeoff position isn't important to the user (it would still be mostly respected if climbout diff > accept radius), but rather I'm trying to tweak what we already have to get the behaviour I want. Maybe that's the wrong approach.\n\nSo let's take a step back and have the proper discussion. I want to hand launch in AUTO, sometimes with launch detect, sometimes without and have that launch do nothing but safely climb in the direction I throw until a certain altitude, and then continue/start the mission. How could we accomplish this while still having the option of respecting a takeoff waypoint position?\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-05T17:17:20Z",
          "body": "Ok. Wasn't it your plan to reuse the runway takeoff code for hand launch too? I believe it would give you exactly what you want. In \"heading mode\" it will takeoff to climbout alt in the direction you threw it, and then navigate towards takeoff wp. In \"wp mode\" will directly try to navigate towards the takeoff waypoint (which is the default behaviour at the moment I guess?).\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-05T18:04:24Z",
          "body": "You're right that will probably be exactly what I want in most cases if I just treat the takeoff waypoint like my first regular waypoint. My only concern then is the possibility that the waypoint could be accepted before RunwayTakeoffState::FLY. What would be the best way to prevent that?\n\nAdditionally check climbout diff to accept NAV_CMD_TAKEOFF or actually publish takeoff state?\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "navigator only accept waypoint if !landed",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3908",
    "number": 3908,
    "created_at": "2016-03-02T15:17:42Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "This also includes a minor fw_pos_control_l1 cleanup where the const arg pos_sp_triplet and _pos_sp_triplet were being used interchangeably.\n\nPossible fix for #3902\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-03T09:10:41Z",
          "body": "Looking good to me. It still will require putting takeoff waypoints at a suitable minimum distance - which probably needs to be fixed in the GCS.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-03T09:16:06Z",
          "body": "The change looked anyway good, so I cherry-picked it it onto master. Closing.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Loiter min altitude: Differentiate between loiter and takeoff",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3880",
    "number": 3880,
    "created_at": "2016-02-28T19:34:17Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "LorenzMeier",
      "body": "This should help with suddenly rising systems.\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-14T08:05:44Z",
          "body": "Rebased and applied.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "FW airspeed mode",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3861",
    "number": 3861,
    "created_at": "2016-02-25T22:54:46Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "dagar",
      "body": "This pull request introduces fixed wing airspeed mode. Airspeed mode is the minimum manual mode that's appropriate (safe) for an operator without RC experience.\nIt's a stabilized mode with manual throttle and airspeed controlled with the pitchstick. It feels similar to STAB, but you can't stall the plane.\n\n**Questions**\n- ~~where should this fit in with the existing modes and switches?~~\n- ~~this mode is much better with the TECS time constant significantly reduced, could it scale automatically?~~ You just need to properly tune TECS\n- ~~this doesn't currently work with mTecs, does anyone use it?~~\n- ~~should this mode respect FW_THR_MIN/FW_THR_MAX?~~\n",
      "issue_comments": [
        {
          "author": "dagar",
          "created_at": "2016-02-26T21:46:05Z",
          "body": "I tested most combinations of mode transitions to and from airspeed mode HIL today and didn't see any obvious problems.\nLog muncher might be broken: http://logs.uaventure.com/view/GcnQdeGGB4qgMJDwX8HQng\n\nReinitializing TECS between airspeed mode and any other TECS mode is a bit abrupt, I'm going to try just resetting speed weight and the underspeed check instead.\n\nI'll try an actual flight next week.\n",
          "type": "issue_comment"
        },
        {
          "author": "SimonWilks",
          "created_at": "2016-02-26T22:36:31Z",
          "body": "Logmuncher is working again for this log. Something odd happened with it.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-02-26T23:04:18Z",
          "body": "The throttle transition from airspeed mode full throttle to altctl is pretty bad. Rethinking the way I'm abusing TECS.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-02-27T19:35:36Z",
          "body": "Ok, back to where I started. TECS is completely reset between AIRSPEED and ALTCTL/POSCTL/AUTO. It's no worse than switching from MAN/STAB to those modes.\n\nI still want to think about automatically reducing the TECS time constant just in this mode, but I'm otherwise happy with the state of this during HIL testing and ready for an actual flight test.\n\n@LorenzMeier would you recommend flying master as of today, or should I cherry-pick this to stable?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-02-28T20:39:41Z",
          "body": "I've cherry-picked to stable for flight testing. https://github.com/PX4/Firmware/compare/stable...dagar:fw_airspeed_mode-stable?expand=1\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-01T01:59:31Z",
          "body": "@SimonWilks is this new mode killing logmuncher? http://logs.uaventure.com/view/tNysut35PRAqfF8qe2xhr7\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-02T19:38:08Z",
          "body": "Here's a plot from a successful flight of airspeed mode (ported to stable). The plot shows airspeed setpoint changing with elevator input, and manual throttle. This section of the flight was ALTCLT -> AIRSPEED -> ALTCTL with no problems. Altitude is scaled by 0.1.\n\n![airspeed_1](https://cloud.githubusercontent.com/assets/84712/13472651/da1750cc-e083-11e5-8311-97aa4b797d38.png)\n\n@LorenzMeier what are the next steps? What testing would you like to see?\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-02T20:15:34Z",
          "body": "This confused me a bit so I hope you don't mind my questions. I had to look in the code to understand how this is supposed to work ;).\n\nHow is this different from altitude control from the users perspective? Maybe you could explain a bit where the need for this mode is coming from?\n\nDon't you have 2 inputs that have an effect on altitude now? So I'm assuming thrust is your main altitude control now (with speed-weight 2). But also if you change the airspeed setpoint TECS will have to dive/climb (because it has no other means anymore of matching the speed)?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-02T20:56:18Z",
          "body": "Think of it as a safe manual mode. Similar to stabilized mode, but the autopilot maintains a safe airspeed [FW_AIRSPEED_MIN, FW_AIRSPEED_MAX] at all times to prevent the vehicle from stalling. It's very useful for manually landing a UAV. In a locked down configuration for a user this would be their manual mode (which they wouldn't expect to hold altitude).\n\nThis airspeed mode is actually what several commercial UAVs and autopilots refer to as manual mode.\n\nYou should try it in a simulator with appropriate min, trim, and max airspeeds and possibly reducing the TECS time constant. It feels like flying in stabilize mode, but the pitch responds a bit slower.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-03-02T21:39:04Z",
          "body": "Landing, that's interesting. I mean, you have the same problem here as in alt/posctl: you cannot flare. How does the stick movement look for a landing? Wouldn't you want to reduce airspeed AND throttle for a landing?\n\nNaive question: have you tried plain altitude control with a reduced TECS time constant? I know you don't have manual throttle there, just wondering if the control feeling would already be better then.\n\n> This airspeed mode is actually what several commercial UAVs and autopilots refer to as manual mode.\n\nCould you give me an example? (because I'm curious, not because I don't believe you :))\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-04T16:45:49Z",
          "body": "Actually you can flare by pulling the pitch stick completely back, assuming you approach above min airspeed. Having direct control over throttle makes this mode much safer than ALTCTL for handling on the ground at launch or landing.\n\nI haven't tried ALTCTL with a reduced TECS time constant, but I generally use it when I want to just stay at the same altitude and not think about it.\n\nThe Procerus Kestrel autopilot (acquired by Lockheed) and fixed wing UAVs from AeroVironment refer to this as manual mode.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-09T20:52:36Z",
          "body": "@LorenzMeier @AndreasAntener do you have any other questions? What's the path forward for getting this merged? \n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-15T01:13:55Z",
          "body": "Rebased and resolved conflict.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-20T18:36:48Z",
          "body": "<a href=\"https:&#x2F;&#x2F;trello.com&#x2F;c&#x2F;IvXjv34B&#x2F;723-px4-airspeed-mode-test\"><img src=\"https:&#x2F;&#x2F;github.trello.services&#x2F;images&#x2F;trello-icon.png\" width=\"12\" height=\"12\"> PX4 airspeed mode test</a>\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T15:24:59Z",
          "body": "@dagar I can't access that Trello card.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-03-24T15:29:02Z",
          "body": "Whoops, sorry that's my personal todo list that I had no idea was posting on my behalf.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-24T15:29:07Z",
          "body": "Another rebase would be great, and more clarity on testing - would it be possible for you to test this, position control, altitude control and an auto mission? I would also love to understand the time constant change you mentioned.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-04-02T16:16:37Z",
          "body": "I've flown this a couple times and it works as intended with no problems, but the airspeed response isn't great. I've been having a hard time tuning TECS to respond nicely for this mode, but still work well normally.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-04-04T07:36:58Z",
          "body": "@dagar What about leaving airspeed control away if within min/max? There is a lot of talk about stall prevention ATM. I believe your reasoning behind this \"airspeed\" mode is not different from people simply requesting stall prevention methods. Maybe it could be more of a mix, having manual throttle/pitch/roll control, but start limiting pitch/roll when airspeed gets borderline, and use TECS to pitch down if airspeed falls below min.\n",
          "type": "issue_comment"
        },
        {
          "author": "tubeme",
          "created_at": "2016-04-04T22:16:18Z",
          "body": "@dagar Sounds very promising.\n\n@AndersonRayner Here is what the APM is doing about stall:\n\n> when in roll controlled modes the autopilot will monitor your demanded bank angle and airspeed and work out if you have sufficient margin above the stall speed to turn at the demanded bank angle. If you donâ€™t then the turn will be limited to the safe limit, but it will always allow a bank of at least 25 degrees (to ensure you can still maneuver if your airspeed estimate is badly off).\n\nWe've seen this technique in other two more simpler controllers and it works.\n\n> when in auto-throttle modes the autopilot will also raise the minimum airspeed in the TECS system to the level at which the current demanded bank angle can be safely achieved. So it will add more engine power or lower the nose to raise the airspeed so that the bank angle that the navigation controller is demanding can be achieved without a stall\n\nThey use these two parameters:\n\n> The **STALL_PREVENTION** parameter. If this is set to zero then no stall prevention is done. This may be useful if you have no airspeed sensor and the synthetic airspeed estimate is not good \n> enough\n> \n> The **ARSPD_FBW_MIN** parameter, which is the configured minimum airspeed for level flight. It is this value that is scaled with the bank angle to calculate the safe airspeed for any demanded bank angle\n\nI'm not saying we have to copy, but there is not a big choice of approaches toward stall. It is classical physics.  \n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-04-05T03:01:31Z",
          "body": "@AndreasAntener how would we keep TECS happy/initialized in between?\n\nHopefully I'll have some time to play around again later this week. I'll provide some plots of pitch input and response. It should be possible to get it to respond nicely when you're within the airspeed limits. Worst case I'll try doing airspeed control with only pitch outside of TECS.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-04-13T22:28:47Z",
          "body": "Rebased on master. I've been trying to gain a better understanding of TECS so that I can figure out how to make this mode work nicely. Update coming soon.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-05-22T10:35:10Z",
          "body": "@dagar Where is this standing?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-05-22T18:35:47Z",
          "body": "Waiting for me to actually go to the field and fly.\n",
          "type": "issue_comment"
        },
        {
          "author": "jcooper21",
          "created_at": "2016-05-27T05:29:49Z",
          "body": "This looks like a great mode. I may have some spare time coming up to test this mode and provide feedback. Is it in PX4 beta or master build and in the daily build of QGC?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-05-28T18:24:03Z",
          "body": "TODO - only allow transition to this mode for fixed wing\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-05-28T18:27:35Z",
          "body": "@jcooper21 this hasn't been tested since a large rebase so I need to spend some time at the field.\n\nIf you haven't already I'd suggest you thoroughly tune TECS.\n\nhttps://pixhawk.org/users/fixedwing_pid_tuning#tecs_tuning_altitude\n\nThe ArduPlane documentation is good, but many of the params are named differently.\nhttp://ardupilot.org/plane/docs/tecs-total-energy-control-system-for-speed-height-tuning-guide.html\n",
          "type": "issue_comment"
        },
        {
          "author": "jcooper21",
          "created_at": "2016-05-28T19:05:13Z",
          "body": "My tuning should be good. I'll test this when I get back from my vacation in a while. I'd this going to be the new stabalize mode? Also if it controls min air speed how do I land?\n",
          "type": "issue_comment"
        },
        {
          "author": "jcooper21",
          "created_at": "2016-05-28T19:58:53Z",
          "body": "Is this in QGC daily and px4 matter so I can set it up to test?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-06-05T23:03:57Z",
          "body": "I'll reopen this once I've had a few thorough flight tests with data and it's ready to be merged immediately.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Clean up vehicle_status message",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3846",
    "number": 3846,
    "created_at": "2016-02-24T18:17:26Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "julianoes",
      "body": "Do not merge yet, untested, just for review.\n\nThis is work in progress trying to clean up the vehicle_status message.\nCurrent changes include:\n- Remove circuit breakers from vehicle_status\n- Delete mavlink compatible fields which were not in sync anymore.\n- Move vtol_vehicle_status enum to vtol_status topic.\n- Move battery calculations to the respective drivers (sensors.cpp and px4io.cpp).\n- Move battery data to battery_status topic.\n- Internalize condition bools into commander and out of vehicle_status.\n- Use land_detected message everywhere instead of the landed bool in vehicle_status.\n\nFor more detailed explanations, please read through the commit messages.\n\nThis PR is now on top of #3857.\n",
      "issue_comments": [
        {
          "author": "LorenzMeier",
          "created_at": "2016-02-24T18:24:59Z",
          "body": "Architectural implications / cleanup looks good.\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-02-26T13:04:28Z",
          "body": "@LorenzMeier Any idea why the mavlink include doesn't work in travis:\nhttps://travis-ci.org/PX4/Firmware/jobs/111996908#L625\n\nIf I use the exact same command on my machine, it works.\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-02-26T15:48:27Z",
          "body": "Have you tried `#include <v1.0/common/mavlink.h>`?\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-02-26T16:07:52Z",
          "body": "@dagar thanks, I'll give it a try.\n",
          "type": "issue_comment"
        },
        {
          "author": "jschall",
          "created_at": "2016-02-27T00:36:09Z",
          "body": "@julianoes looks like there's some ros stuff failing CI tests (src/platforms/ros/nodes/commander/commander.cpp). Looks like it is simple to fix. Should I address problems with it? Can I be made a collaborator here so that I can push to the branch?\n\n@LorenzMeier what is the timeline like for getting this pushed in once it passes CI tests?\n\n@liamstask fyi\n",
          "type": "issue_comment"
        },
        {
          "author": "jschall",
          "created_at": "2016-02-27T00:43:44Z",
          "body": "Which target should I build to reproduce the error? I tried ros_sitl_default but it said that target was deprecated and to use posix_sitl_default (which works)\n",
          "type": "issue_comment"
        },
        {
          "author": "liamstask",
          "created_at": "2016-02-28T01:04:46Z",
          "body": "@LorenzMeier any pointers on debugging the travis failures per @jschall's questions above?\n",
          "type": "issue_comment"
        },
        {
          "author": "dagar",
          "created_at": "2016-02-28T02:46:23Z",
          "body": "@jschall you can open a pull request onto this branch. It looks like you just need to update the ros commander node to use the new commander_state.\n",
          "type": "issue_comment"
        },
        {
          "author": "jschall",
          "created_at": "2016-02-29T07:30:06Z",
          "body": "There's a new \"commander_state\" message but no one publishes it as far as I can tell.\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-02-29T09:22:30Z",
          "body": "@jschall :\n\n> looks like there's some ros stuff failing CI tests (src/platforms/ros/nodes/commander/commander.cpp). Looks like it is simple to fix. Should I address problems with it? Can I be made a collaborator here so that I can push to the branch?\n\nI didn't know about this ROS stuff, let me have a look.\n\n> There's a new \"commander_state\" message but no one publishes it as far as I can tell.\n\nOh, good catch. I'll add that.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-29T16:47:58Z",
          "body": "Jenkins: test this please\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-03-03T13:24:53Z",
          "body": "I rebased this once again on master. Every time there is some conflicts, so it would be good to flight test this and merge as soon as possible.\n\n@tumbili any chance you could give this a flight test (in the snow :smile:)?\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-04-08T08:12:17Z",
          "body": "Jenkins: test this please\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-04-08T13:49:52Z",
          "body": "@LorenzMeier and @liamstask\n\nThis would be ready to be merged, I've test flown it today. However, I'd like to hold off the merge until Monday in case it breaks somebody's setup because I'll be offline and not able to resolve conflicts or help debug problems.\n",
          "type": "issue_comment"
        },
        {
          "author": "liamstask",
          "created_at": "2016-04-08T15:09:05Z",
          "body": "sounds good!\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-04-11T16:42:21Z",
          "body": "Rebased and applied!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  },
  {
    "title": "Px4.enhancement.3760.implement auto follow me.wip [WIP do not merge]",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3814",
    "number": 3814,
    "created_at": "2016-02-21T03:50:56Z",
    "merged": false,
    "merged_at": null,
    "state": "closed",
    "conversation": {
      "author": "catch-twenty-two",
      "body": "adds ability for px4 firmware to track a target.  Implements rudimentary following of target position in navigator.\n\nNote: this uses a new version of the mavlink library with the proposed follow target method, will not work with current mavlink library version.\n\nhttps://github.com/catch-twenty-two/mavlink\n\nAlso uses new version of qground control with follow me option implemented:\n\nhttps://github.com/mavlink/qgroundcontrol/pull/2817\n\nSome concerns:\n\nPlease comment on ideas for error checking on bad position sent from tracker.  (e.g. ignore tracker if new pos vector is x meters away and instead just loiter)\n\nDoes it make sense for the \"follow previous - current line\" following be activated for this?  (currently I have it activated) I guess this might come in handy for intermittent GPS being sent...\n\nIn both instances ( \"follow previous - current line\" on and off) the result is \"jumpy\" if the new sp is to close to the current set point. \n\nMaybe this entire follow feature needs to be treated more like an instance using the position control code, except instead of manual input it gets tracker input. Or maybe it needs to be some type of hybrid of both pos control and auto line/position following code.\n\nAnyways, just some ideas, I'd like to get other's suggestions. \n\n@LorenzMeier had suggested using a predictive model if we have the target velocity. (this doesn't seem to be an option on my nexus 7 as it doesn't seem to output gps velocity)\n\nHere is a video of the current implementation, Qground control has been coded to send out sinusoidal gps coors, you can see the jumpiness I am referring to:\n\nhttps://www.youtube.com/watch?v=qGC464eVI5E&feature=youtu.be\n",
      "issue_comments": [
        {
          "author": "devbharat",
          "created_at": "2016-02-21T08:37:25Z",
          "body": "This reminded me of the target following I had implemented in APM a few years ago (used the same fixed wing libraries (l1 with TECS) as we do now) and the issues I faced. I did it by setting the target's position as the waypoints for the 'follower' (also I think I overwrote the current target waypoint with the latest waypoint I received from the target. Otherwise, the follower's position oscillated heavily). \nThis strategy 'works' but you end up with steady state error between the target(say, moving in a straight line) and the follower (who never got directly in line behind the target, was always a bit to the left or the right). This can be seen in the following pic:\n\n![dsc_0615](https://cloud.githubusercontent.com/assets/3105122/13201714/9179428e-d87d-11e5-9f86-2a6d8ccab171.JPG)\n\nYou can see the green plane (fixed wing UAV) is following not directly behind the leader, but to the side. This was because unlike a single static waypoint, the waypoints in this case were constantly overwritten to the new target position values, with the controller never getting the time to correct the steady state error. This made me feel that, atleast for fixedwings, tracking moving targets required something more than just setting moving waypoints from the controls point of view.\n\nYou can see a mission with 3 aircrafts daisy-chained here:\n![3-ac-lf-2013-09-28 13_41_29](https://cloud.githubusercontent.com/assets/3105122/13201743/7d2f5934-d87e-11e5-85f1-1635b420890e.png)\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-02-22T11:58:54Z",
          "body": "Awesome! I'm not so worried about the back and forth as my intention was not to keep sending a specific setpoint all the time, but to implement a \"rubber-band\" controller in that navigator class which trades smoothness for accuracy and only updates the next position gradually.\n\nWhat I however indeed forgot is that we need to feed a desired velocity. That should be supported by the triplet as well. Or we can go straight to the position setpoint instead. I need to think about that and maybe we can discuss this on the dev call?\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-02-22T14:27:58Z",
          "body": "> What I however indeed forgot is that we need to feed a desired velocity. That should be supported by the triplet as well. Or we can go straight to the position setpoint instead. I need to think about that and maybe we can discuss this on the dev call?\n\nOkay sounds good. Ill be on the call this morning, interested in hearing more about the controller you have in mind.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-01T08:16:38Z",
          "body": "@catch-twenty-two Any update on the current state? Could you push your latest commits so others have a chance to review and join in?\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-01T08:17:03Z",
          "body": "You also might want to rebase. We kept improving the sim, in particular Gazebo, quite a bit.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-12T22:16:07Z",
          "body": "@LorenzMeier Sorry your request got lost in all the noise of my email in box.  The first iteration of the px4 side of the firmware code should be complete now.  Over all operation is a lot smoother.\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-14T06:56:16Z",
          "body": "@catch-twenty-two I reviewed your code. You can use a pixhawk & mavros to send waypoint message include gps velocity. run rosrun mavros gcs_bridge, roslaunch mavros px4.launch.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-14T07:44:34Z",
          "body": "@liang-tang You missed the intent of this PR. It does follow-me without a companion computer. So what you describe is not of interest here.\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-15T10:01:32Z",
          "body": "@catch-twenty-two\n\n `if (_pos_sp_triplet.current.type == position_setpoint_s::SETPOINT_TYPE_FOLLOW_TARGET) {\n                    _vel_sp(0) = _pos_sp_triplet.current.vx;\n                    _vel_sp(1) = _pos_sp_triplet.current.vy;\n                } else if (vel_norm_xy > _params.vel_max(0)) {\n                    /* note assumes vel_max(0) == vel_max(1) */\n                    _vel_sp(0) = _vel_sp(0) * _params.vel_max(0) / vel_norm_xy;\n                    _vel_sp(1) = _vel_sp(1) * _params.vel_max(1) / vel_norm_xy;\n                }`\nThere is a bug that _pos_sp_triplet.current.valid should be valid.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-15T18:29:39Z",
          "body": "@liang-tang True probably better to double check than assume if you are in follow target mode you have a velocity to use.  I have since changed this entire statement to use the velocity setpoint type and made some other significant changes as well.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-17T16:23:41Z",
          "body": "Hello, this is ready for testing if anyone has some time available. Integration to get the system working can be a bit of a pain because it involves changes in qgc, mavlink and px4 fw.  It also requires an Android device with OTG and GPS capability. Let me know if you're interested. Thanks!\n\n@julianoes @tumbili: @LorenzMeier said I should request validation testing from you so we can pull this into master. \n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-17T19:13:17Z",
          "body": "CI failed, fix would be great. Can you also help to get the required PR for QGC through? Then it will be available on Android automatically.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-17T22:48:10Z",
          "body": "@LorenzMeier Sure will do\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-18T01:05:05Z",
          "body": "@catch-twenty-two Testing is in process.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-18T03:44:10Z",
          "body": "@liang-tang Great thanks, make sure you grab the latest code, for now I have set the minimum altitude of follow me/missions to 10 meters above home for safety.  If you have changed the mission minimum altitude to something custom for now make sure it set to at least 10m. \n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-19T04:06:46Z",
          "body": "@LorenzMeier I was able to get the CI to pass by changing the mavlink submodule to point to a temporary branch with the new follow target messages...Once the pr with the new messages are approved in the mavlink repo here:\n\nhttps://github.com/mavlink/mavlink/pull/526\n\n can switch it back to pointing to the correct repo and it should build ok without the hack.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-19T07:27:40Z",
          "body": "@catch-twenty-two Will start to integrate this tonight, so will be done in your morning.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-19T14:28:26Z",
          "body": "MAVLink PR is in. Now moving on to do a final review here and get it in.\n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-19T14:48:19Z",
          "body": "Almost all changes look good, except for the multi rotor position control where I see changes which will affect the general flight behaviour. When this is resolved it should be good to go.\n\nI brought in the MAVLink changes in master (c27981d), please rebase.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-19T16:09:24Z",
          "body": "> Almost all changes look good, except for the multi rotor position control where I see changes which will affect the general flight behaviour. When this is resolved it should be good to go.\n> \n> I brought in the MAVLink changes in master (c27981d), please rebase.\n\nThanks, I addressed your concerns in the comments lmk what you think.  Will do the rebase asap.\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-21T02:22:42Z",
          "body": "@catch-twenty-two  I have some advise to give you.\n\n``` ruby\nvoid FollowTarget::pause()\n{\n    //math::Vector<3> vel(0, 0, 0);\n    _current_vel.zero();\n\n    set_loiter_item(&_mission_item, _param_min_alt.get());\n\n    //update_position_sp(vel);\n\n    _previous_target_gps_pos_valid = false;\n    //_current_target_motion.lat = _navigator->get_global_position()->lat;\n    //_current_target_motion.lon = _navigator->get_global_position()->lon;\n    //mavlink_log_info(_navigator->get_mavlink_fd(),\"pause\");\n}\n```\n\nI think _previous_target_gps_pos_valid should reset to false when pause status, so _target_vel is really valid when update_target_velocity() next time.\n\n``` ruby\nvoid FollowTarget::update_target_motion()\n{\n    bool updated;\n\n    orb_check(_follow_target_sub, &updated);\n\n    if (updated) {\n\n        // save last known motion topic\n\n        _previous_target_motion = _current_target_motion;\n\n        orb_copy(ORB_ID(follow_target), _follow_target_sub, &_current_target_motion);\n\n        update_target_velocity();\n\n        if (_previous_target_gps_pos_valid == false) {\n            _previous_target_motion = _current_target_motion;\n            _previous_target_gps_pos_valid = true;\n        }\n```\n\n if  _current_target_motion is Null, _target_vel will be wrong when update_target_velocity(). So can it be modified like this?\n\n``` ruby\n        if (_previous_target_gps_pos_valid == false) {\n            _previous_target_motion = _current_target_motion;\n            _previous_target_gps_pos_valid = true;\n        }\n\n        update_target_velocity();\n```\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-21T15:45:43Z",
          "body": "@LorenzMeier Hey Lorenz,  I got rid of the SETPOINT_TYPE_VELOCITY statement by checking if the velocity or position setpoints are valid in the setpoint triplet.  This works the exact same way, and allows me to get rid of the statement for ignoring pos setpoint generated velocity if SETPOINT_TYPE_VELOCITY is the setpoint type.\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-22T19:40:20Z",
          "body": "@liang-tang I took some time to make the code more robust and readable overall.  It should address all of your concerns. Were you able to fly it at all?\n",
          "type": "issue_comment"
        },
        {
          "author": "liang-tang",
          "created_at": "2016-03-23T00:55:08Z",
          "body": "@catch-twenty-two I tested many times, i found it difficult to catch up with me, maybe gps data lost?\n",
          "type": "issue_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-23T02:42:23Z",
          "body": "@liang-tang Great thanks for testing... Yes, that might be the case, the 3dr radio interferes with my phone gps...  I have to hold it very far away from the phone to get it to work correctly...Once it works though it works well...I'm going to play around with it some more to find the optimal placement for the radio. My friend and  I were able to take turns riding our bikes while having it follow us.  We stopped and started abruptly and also looped back on ourselves over a fairly large parking lot and it stayed with in 5-10 meters of us the whole time. \n",
          "type": "issue_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-23T19:42:53Z",
          "body": "Replaced by https://github.com/PX4/Firmware/pull/4065/files\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-12T22:17:22Z",
          "body": "Don't require a home position\n",
          "path": "src/modules/commander/state_machine_helper.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "LorenzMeier",
          "created_at": "2016-03-19T14:33:46Z",
          "body": "In the section below are changes which exceed the changes needed for follow-me. Either this is a bad merge or the conditioning is incorrect (they should be guarded by if == FOLLOW_TARGET).\n",
          "path": "src/modules/mc_pos_control/mc_pos_control_main.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "catch-twenty-two",
          "created_at": "2016-03-19T15:57:50Z",
          "body": "The above code uses a combination of overriding the velocity set point when it is appropriate while still using the position set point when it's not so I can take advantage of the velocity braking code as the position set point error delta gets smaller.  The code below overrides the velocity set point at all times and ignores the position set point for when the follow target module is in velocity tracking mode.  I was going to make a new set point type for the code below but saw that the position set point type already defined a set point type for velocity only, it just wasn't being used in the code anywhere. I used both of these set point types for a smooth transition between following using position and the velocity only tracking mode. Let me know if you still think I need to fix something or possibly have a better idea for what I am trying to accomplish.\n\nHere is where I switch between the 2 tracking methods:\n\nhttps://github.com/PX4/Firmware/pull/3814/files?diff=unified#diff-35e82494becdfdcc5afaafb5b3f4e361R278\n",
          "path": "src/modules/mc_pos_control/mc_pos_control_main.cpp",
          "position": 1,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "Yaw timeout for VTOL forwards transition",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3740",
    "number": 3740,
    "created_at": "2016-02-12T15:18:46Z",
    "merged": true,
    "merged_at": "2016-02-16T06:51:23Z",
    "state": "closed",
    "conversation": {
      "author": "AndreasAntener",
      "body": "This adds a yaw timeout on accepting the waypoint for the VTOL forwards transition because a VTOL might not reach yaw in wind. Fixes #3728\n\nMIS_YAW_TMT\n- default: -1\n- > 0: timeout active on waypoints which force heading, ignore heading for acceptance on normal waypoints\n\nMIS_YAW_TMT set to 10 seconds for default VTOL configurations\n",
      "issue_comments": [
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-13T00:25:33Z",
          "body": "@LorenzMeier @sanderux timeout and forcing the heading for a transition added. How does this look?\n\nAlready flew the timeout in real, new is the mission failsafe. If this is how we want it for the moment we can merge I think.\n",
          "type": "issue_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-02-13T09:00:44Z",
          "body": "Reviewed, seems good other than the comment.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-13T09:11:33Z",
          "body": "Thanks @julianoes , I will push an update in a sec that also takes care of setting the failure state properly.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-15T12:54:51Z",
          "body": "Rebased on master\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-15T14:37:37Z",
          "body": "Just found one thing missing here, need to do one more commit.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-15T18:28:27Z",
          "body": "Anybody knows why px4-stm32f4discovery_default fails on Travis?\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-16T06:52:50Z",
          "body": "Merged after SITL tests. @sanderux this will simplify testing this afternoon. Roman and I will rebase the TECS init, and also get the Kangaroo in before you go testing.\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "julianoes",
          "created_at": "2016-02-13T08:58:29Z",
          "body": "Why -FLT_EPSILON? Shouldn't it be +FLT_EPSILON?\n\nAlso, please comment! How is a reader supposed to grasp what you're trying to achieve with this if...\n",
          "path": "src/modules/navigator/mission_block.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "julianoes",
          "created_at": "2016-02-13T08:59:47Z",
          "body": "Oh, I understand from reading the parameter. A timeout of 0 means, just continue.\nAs I said, please comment!\n",
          "path": "src/modules/navigator/mission_block.cpp",
          "position": 1,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "Vtol weathervane cleaned up history",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3736",
    "number": 3736,
    "created_at": "2016-02-12T11:42:50Z",
    "merged": true,
    "merged_at": "2016-02-15T08:50:32Z",
    "state": "closed",
    "conversation": {
      "author": "RomanBapst",
      "body": "Fixes https://github.com/PX4/Firmware/issues/3679\n@sanderux As discussed I cleaned up the history so that we only remain with three commits.\nThe diff to the old branch is zero so everything should be inside. Will give this a test in SITL and Ada can maybe test fly it today.\n@AndreasAntener  FYI\n",
      "issue_comments": [
        {
          "author": "RomanBapst",
          "created_at": "2016-02-12T11:45:12Z",
          "body": "Please delete the old branch (referenced above ) if there aren't any objections.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-02-12T11:49:51Z",
          "body": "Done, looks good\n",
          "type": "issue_comment"
        },
        {
          "author": "RomanBapst",
          "created_at": "2016-02-12T14:54:08Z",
          "body": "@sanderux @AndreasAntener This is flight tested in SITL for both landing and loiter modes. Checked the log files, it seems to do the right thing.\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-12T14:56:15Z",
          "body": "Rain just stopped me right after flashing this branch... I hope the weather is good for you Sander tomorrow :)\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-02-12T14:58:01Z",
          "body": "There is some wind but that would be the point for this pr. Should stay dry\n",
          "type": "issue_comment"
        },
        {
          "author": "RomanBapst",
          "created_at": "2016-02-12T15:06:42Z",
          "body": "@sanderux @AndreasAntener Parameters to activate this are\nVT_WV_LND_EN enable mode for landing waypoint\nVT_WV_LTR_EN enable mode for loiter items\nVT_WV_YAWR_SCL scale factor for desired yaw_rate setpoint\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-12T15:10:21Z",
          "body": "VT_WV_LTR_EN doesn't seem to be used anywhere\n",
          "type": "issue_comment"
        },
        {
          "author": "RomanBapst",
          "created_at": "2016-02-12T15:17:06Z",
          "body": "@AndreasAntener https://github.com/PX4/Firmware/blob/vtol_weather_vane/src/modules/navigator/mission_block.cpp#L75\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-02-12T15:18:09Z",
          "body": "In mission block\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-12T15:25:00Z",
          "body": "Funny, QGC didn't show me this on the field, anyway, it's there :) \n",
          "type": "issue_comment"
        },
        {
          "author": "RomanBapst",
          "created_at": "2016-02-12T15:35:46Z",
          "body": "@AndreasAntener I pushed a late fix, probably you didn't have that one.\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-02-14T13:30:38Z",
          "body": "Log from weathervane loiter test: http://logs.uaventure.com/view/t7a2AZB3WHgRZsDjGCEJpi\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-14T14:12:52Z",
          "body": "This looks good. Let's address my 2 comments. We should check it on landing as well even though I don't think it's problematic.\n<img width=\"1366\" alt=\"screen shot 2016-02-14 at 15 07 12\" src=\"https://cloud.githubusercontent.com/assets/5750020/13034114/d95b8a0e-d32c-11e5-817b-5842bf44f54d.png\">\n",
          "type": "issue_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-14T14:37:08Z",
          "body": "Addressed comment 1\n",
          "type": "issue_comment"
        },
        {
          "author": "sanderux",
          "created_at": "2016-02-14T22:53:17Z",
          "body": "This should address the feed forward\n",
          "type": "issue_comment"
        },
        {
          "author": "RomanBapst",
          "created_at": "2016-02-15T08:50:41Z",
          "body": "Merged!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-13T10:11:32Z",
          "body": "we should change `_mode_auto` to `!_control_mode.flag_control_manual_enabled` so this also works in offboard and it's consistent with the other checks\n",
          "path": "src/modules/mc_pos_control/mc_pos_control_main.cpp",
          "position": 1,
          "type": "review_comment"
        },
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-14T13:53:11Z",
          "body": "@tumbili should we also remove the feed forward when we clamp the rate?\n",
          "path": "src/modules/mc_att_control/mc_att_control_main.cpp",
          "position": 72,
          "type": "review_comment"
        }
      ],
      "reviews": []
    }
  },
  {
    "title": "Fix for transition failsafe",
    "url": "https://github.com/PX4/PX4-Autopilot/pull/3730",
    "number": 3730,
    "created_at": "2016-02-11T22:40:16Z",
    "merged": true,
    "merged_at": "2016-02-11T23:24:48Z",
    "state": "closed",
    "conversation": {
      "author": "sanderux",
      "body": "fixes https://github.com/PX4/Firmware/issues/3729\nonly transition to MC when not MC\n",
      "issue_comments": [
        {
          "author": "AndreasAntener",
          "created_at": "2016-02-11T23:24:58Z",
          "body": "Great, thanks!\n",
          "type": "issue_comment"
        }
      ],
      "review_comments": [],
      "reviews": []
    }
  }
]